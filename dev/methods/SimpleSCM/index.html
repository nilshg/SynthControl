<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SimpleSCM · SynthControl</title><meta name="title" content="SimpleSCM · SynthControl"/><meta property="og:title" content="SimpleSCM · SynthControl"/><meta property="twitter:title" content="SimpleSCM · SynthControl"/><meta name="description" content="Documentation for SynthControl."/><meta property="og:description" content="Documentation for SynthControl."/><meta property="twitter:description" content="Documentation for SynthControl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SynthControl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../sc_intro/">Introduction to Synthetic Controls</a></li><li><span class="tocitem">Methods</span><ul><li class="is-active"><a class="tocitem" href>SimpleSCM</a><ul class="internal"><li><a class="tocitem" href="#Implementation-in-SynthControl"><span>Implementation in <code>SynthControl</code></span></a></li></ul></li><li><a class="tocitem" href="../ADH2010/">ADH2010</a></li><li><a class="tocitem" href="../AugmentedSCM/">AugmentedSCM</a></li><li><a class="tocitem" href="../PenalizedSCM/">PenalizedSCM</a></li><li><a class="tocitem" href="../SyntheticDiD/">SyntheticDiD</a></li><li><a class="tocitem" href="../MC-NNM/">MC-NNM</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Methods</a></li><li class="is-active"><a href>SimpleSCM</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SimpleSCM</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/nilshg/SynthControl.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/nilshg/SynthControl.jl/blob/master/docs/src/methods/SimpleSCM.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Simple-Synthetic-Control-Model"><a class="docs-heading-anchor" href="#Simple-Synthetic-Control-Model">Simple Synthetic Control Model</a><a id="Simple-Synthetic-Control-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-Synthetic-Control-Model" title="Permalink"></a></h1><p>This method captures the simple-most version of a Synthetic Control Model. It only relies on outcome data <span>$Y_{it}$</span> and treatment indicators <span>$W_{it}$</span> to find unit-weights <span>$\omega_i$</span> by solving</p><p class="math-container">\[\omega^* = \arg \min_{\omega} || Y_{tr, 1:T_0} - \omega Y_{co, 1:T_0} ||_2 \\
s.t. \sum_{i = 1}^{N_{co}} \omega_i = 1 \\
0 \leq \omega_i \leq 1 \ \forall \ i \in 1, ..., N_{co}\]</p><p>where <span>$Y_{tr, \cdot}$</span> is a length <span>$T_0$</span> vector of pre-treatment outcomes for the treated unit, <span>$Y_{co, 1:T_0}$</span> is a <span>$(N_{co} \times T_0)$</span> matrix of pre-treatment outcomes for the <span>$N_{co}$</span> control units and <span>$\omega$</span> is a length <span>$N_{co}$</span> vector of weights for each control unit. Weights are restricted to lie between zero and one for each control unit and to sum up to one, as in Abadie and Gardeazabal (2003). </p><p>The <code>SimpleSCM</code> method can therefore be seen as a simplified version of the Abadie and Gardeazabal (2003) or Abadie, Diamond and Hainmüller (2011) Synthetic Control Model, with the following differences:</p><ul><li>Only past outcomes are being used to find weights, no other covariate information is taken into account;</li><li>There is no weighting of covariates (i.e., past outcomes) - in the original Abadie/Gardeazabal notation, the diagonal matrix <span>$V$</span> which weigts covariates is the identity matrix. </li></ul><p>Despite these limitations, the results from this simple procedure can often be close to those of the more fully featured <code>ADH2010</code> model, as shown in the example below. </p><h2 id="Implementation-in-SynthControl"><a class="docs-heading-anchor" href="#Implementation-in-SynthControl">Implementation in <code>SynthControl</code></a><a id="Implementation-in-SynthControl-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-in-SynthControl" title="Permalink"></a></h2><p>The simple SCM model can be estimated by passing a <code>TreatmentPanel</code> to the <code>SimpleSCM</code> constructor. The following example estimates the effect of California&#39;s proposition 99 on cigarette sales, an application taken from <a href="https://www.tandfonline.com/doi/abs/10.1198/jasa.2009.ap08746">Abadie, Diamond and Hainmüller (2010, JASSA)</a><sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.</p><p>First, we load the relevant data:</p><pre><code class="language-julia hljs">julia&gt; using SynthControl

julia&gt; smoking_panel = load_smoking_panel()
Balanced Panel - single treated unit, continuous treatment
    Treated unit: 3
    Number of untreated units: 38
    First treatment period: 1989
    Number of pretreatment periods: 19
    Number of treatment periods: 12</code></pre><p>Then we create the <code>SimpleSCM</code> model and call <code>fit!</code> on the model instance:</p><pre><code class="language-julia hljs">julia&gt; simple_scm = SimpleSCM(smoking_panel);

julia&gt; fit!(simple_scm)
Synthetic Control Model

Treatment panel:
Balanced Panel - single treated unit, continuous treatment
    Treated unit: 3
    Number of untreated units: 38
    First treatment period: 1989
    Number of pretreatment periods: 19
    Number of treatment periods: 12

        Model is fitted
        Impact estimates: [-8.44, -9.207, -12.634, -13.729, -17.534, -22.049, -22.858, -23.997, -26.261, -23.338, -27.52, -26.597]
        ATT: -19.514</code></pre><p>The average treatment effect on the treated (ATT) is simply the average of the imputed synthetic control outcomes for the post-treatment periods:</p><pre><code class="nohighlight hljs">julia&gt; using Statistics

julia&gt; mean(simple_scm.τ̂)
-19.51362976399461</code></pre><p>To esimate standard errors, an optional placebo test can be run in which a treatment effect is estimated for the post-treatment period for each of the untreated units in turn, with the treated unit excluded from the donor pool. </p><pre><code class="nohighlight hljs">julia&gt; fit!(simple_scm; placebo_test = true)</code></pre><p>Where the placebo test has been run, the <code>p_test_res</code> field of the <code>SimpleSCM</code> object holds the estimated post-treatment outcomes for each untreated unit. </p><p>The standard deviation of the treatment effects for other units can serve as an estimator of the standard error of the treatment effect:</p><pre><code class="nohighlight hljs">julia&gt; √(var(mean.(eachrow(sscm.p_test_res))))
10.776022984492037</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Abadie, A., Diamond, A., and Hainmüller, J. (2010): <em>Synthetic Control Methods for Comparative Case Studies: Estimating the Effect of California’s Tobacco Control Program</em>, American Journal of Political Science, Vol. 59(2), Pp. 495-510</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../sc_intro/">« Introduction to Synthetic Controls</a><a class="docs-footer-nextpage" href="../ADH2010/">ADH2010 »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Tuesday 17 September 2024 15:34">Tuesday 17 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
